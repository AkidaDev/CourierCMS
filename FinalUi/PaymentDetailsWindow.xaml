<Window x:Class="FinalUi.PaymentDetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		Icon="Images/logo.ico"
        Title="Payment Details" WindowStartupLocation="CenterScreen" Background="Turquoise">
    <Window.Resources>
        <CollectionViewSource x:Key="ClientList" CollectionViewType="ListCollectionView"/>
        <CollectionViewSource x:Key="PaymentDetailsSourceGrid" CollectionViewType="ListCollectionView"/>
        <CollectionViewSource x:Key="InvoiceDetailsSourceGrid" CollectionViewType="ListCollectionView"/>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="100"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <StackPanel Margin="0 5" Background="#A9FFFFF3">
            <WrapPanel HorizontalAlignment="Center" Margin="0 10 0 0">
                <Path x:Name="client" Data="F1M7.006,17.756C8.089,18.341 9.324,18.675 10.635,18.675 11.947,18.675 13.183,18.341 14.264,17.756 16.602,18.374 18.432,19.843 19.272,23 19.272,23 2,23 2,23 2.839,19.843 4.67,18.375 7.006,17.756z M22.992,14.925C25.33,15.543 27.161,17.011 28,20.168 28,20.168 19.469,20.168 19.469,20.168 18.486,18.463 17.033,17.311 15.075,16.685 15.597,16.276 16.061,15.798 16.456,15.264 17.354,15.635 18.334,15.843 19.363,15.843 20.674,15.843 21.911,15.51 22.992,14.925z M6.639,12.72C7.558,14.518 9.136,15.706 10.928,15.706 12.721,15.706 14.298,14.518 15.217,12.72 15.217,12.72 6.639,12.72 6.639,12.72z M10.635,4.831C13.957,4.831 16.649,7.548 16.649,10.899 16.649,14.252 13.957,16.968 10.635,16.968 7.313,16.968 4.621,14.252 4.621,10.899 4.621,7.548 7.313,4.831 10.635,4.831z M19.363,2C22.685,2 25.377,4.717 25.377,8.068 25.377,11.421 22.685,14.137 19.363,14.137 18.642,14.137 17.954,14.003 17.313,13.768 17.499,13.331 17.641,12.872 17.74,12.396 18.332,12.704 18.979,12.874 19.656,12.874 21.449,12.874 23.025,11.686 23.944,9.888 23.944,9.888 17.819,9.888 17.819,9.888 17.513,7.667 16.22,5.766 14.398,4.645 15.482,3.049 17.3,2 19.363,2z" Fill="Black" Height="24" Canvas.Left="24" Canvas.Top="86" Width="29"/>
                <TextBlock FontWeight="Bold" FontSize="18" FontFamily="Calibri" Text=" Select Client .: " VerticalAlignment="Bottom"/>
                <ComboBox DataContext="{StaticResource ClientList}" IsTextSearchEnabled="True" ItemsSource="{Binding}" Name="ClientComboBox" Width="481">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <WrapPanel>
                                <TextBlock Text="{Binding Path=CLNAME}"/>
                                <TextBlock Text=" : "></TextBlock>
                                <TextBlock Text="{Binding Path=CLCODE}"/>
                            </WrapPanel>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>
            </WrapPanel>
            <WrapPanel HorizontalAlignment="Center" Margin="85 13 0 0">
                <TextBlock FontWeight="Bold" FontSize="18" FontFamily="Calibri" Text="Select Date" VerticalAlignment="Bottom"/>
                <TextBlock FontWeight="Bold" FontSize="18" FontFamily="Calibri" Text="From .: " VerticalAlignment="Bottom" Margin="50 0 0 0"/>
                <DatePicker Name="FromDatepicker" Width="120" BorderBrush="DarkGray" Padding="2 2 0 2" Background="White"/>
                <Path  Data="F1M2,2C2,2 3,2 3,2 3,2 3,35 3,35 3,35 2,35 2,35 2,35 2,2 2,2" Fill="Black" Stretch="Fill" Height="28" Width="1" Margin="10 -3 0 -4"/>
                <TextBlock FontWeight="Bold" FontSize="18" FontFamily="Calibri" TextWrapping="Wrap" Text="To .: " VerticalAlignment="Bottom" Margin="25 0 0 0"/>
                <DatePicker Name="ToDatePicker" Width="120" BorderBrush="DarkGray" Padding="2 2 0 2" Background="White"/>
                <Button Content="  Fetch Records  " Name="FetchButton" Click="FetchButton_Click" VerticalAlignment="Center" Margin="50 0 0 0"/>
            </WrapPanel>
        </StackPanel>
        <Grid Grid.Row="1" Background="#A9FFFFF3">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" MinHeight="70"/>
                <RowDefinition Height="*" MinHeight="70"/>
            </Grid.RowDefinitions>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="35"/>
                </Grid.RowDefinitions>
                <DataGrid Name="InvoiceDatagrid" DataContext="{StaticResource InvoiceDetailsSourceGrid}" ItemsSource="{Binding}" SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Bill Number" Binding="{Binding BillId}"/>
                        <DataGridTextColumn Header="Date" Binding="{Binding CompactDate}"/>
                        <DataGridTextColumn Header="Basic" Binding="{Binding Basic}"/>
                        <DataGridTextColumn Header="Fuel" Binding="{Binding Fuel}"/>
                        <DataGridTextColumn Header="Service Tax" Binding="{Binding STax}"/>
                        <DataGridTextColumn Header="Total" Binding="{Binding TotalAmount}"/>
                        <DataGridTextColumn Header="Remarks" Binding="{Binding Remarks}"/>
                    </DataGrid.Columns>
                </DataGrid>
                <DockPanel Grid.Row="1" Background="#A9FFFFF3" Margin="0 3 0 6">
                    <Button x:Name="DeleteInvoiceButton" Content="  Delete Selected Invoice  " Click="DeleteInvoiceButton_Click" HorizontalAlignment="Left" Margin="20 0 0 0"/>
                    <Button x:Name="FetchInvoiceButton" Content="  View Selected Invoice  " Click="FetchInvoiceButton_Click" HorizontalAlignment="Right" Margin="0 0 20 0"/>
                </DockPanel>
            </Grid>
            <Path Margin="0 0 0 1" Data="F1M22,1C23.65,1 25,2.35 25,4 25,5.65 23.65,7 22,7 20.35,7 19,5.65 19,4 19,2.35 20.35,1 22,1z M13,1C14.65,1 16,2.35 16,4 16,5.65 14.65,7 13,7 11.35,7 10,5.65 10,4 10,2.35 11.35,1 13,1z M4,1C5.65,1 7,2.35 7,4 7,5.65 5.65,7 4,7 2.35,7 1,5.65 1,4 1,2.35 2.35,1 4,1z" Fill="Black" Height="5" Width="22" Stretch="Fill" VerticalAlignment="Bottom" HorizontalAlignment="Center"/>
            <GridSplitter Height="6" Background="Transparent" HorizontalAlignment="Stretch" VerticalAlignment="Bottom"/>
            <Grid Grid.Row="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="35"/>
                </Grid.RowDefinitions>
                <DataGrid Name="PaymentGrid" DataContext="{StaticResource PaymentDetailsSourceGrid}" ItemsSource="{Binding}" SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Refernce No" Binding="{Binding Id}"/>
                        <DataGridTextColumn Header="Date" Binding="{Binding CompactDate}"/>
                        <DataGridTextColumn Header="Amount" Binding="{Binding RecievedAmount}"/>
                        <DataGridTextColumn Header="Debit Note" Binding="{Binding DebitNote}"/>
                        <DataGridTextColumn Header="T.D.S" Binding="{Binding TDS}"/>
                        <DataGridTextColumn Header="Type" Binding="{Binding Type}"/>
                        <DataGridTextColumn Header="Cheque Number" Binding="{Binding ChequeNumber}"/>
                        <DataGridTextColumn Header="Remarks" Binding="{Binding Remarks}"/>
                    </DataGrid.Columns>
                </DataGrid>
                <DockPanel Grid.Row="1" Background="#A9FFFFF3" Margin="0 3 0 6">
                    <Button Name="DeleteRecieptButton" Content="  Delete Selected Payment Reciept  " Click="DeleteRecieptButton_Click" Margin="20 0 0 0"/>
                    <Button Name="ViewRecieptButton" Content="  View Selected Payment Reciept  " HorizontalAlignment="Right" Margin="0 0 20 0"/>
                </DockPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>